{"version":3,"sources":["../../../src/transactions/__tests__/database.spec.js"],"names":["getConnection","host","process","env","ENV","port","db","t","conn","created","pass","dropDatabase","dropped"],"mappings":";;AAAA;;AACA;;AACA;;;;;;;;AAEA,IAAMA,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAG;AAAA;AAAA;AAAA;AAAA;AAAA,6CACpB,4BAAW;AACTC,cAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,GAAZ,KAAoB,MAApB,GAA6B,YAA7B,GAA4C,WADzC;AAETC,cAAAA,IAAI,EAAE,OAFG;AAGTC,cAAAA,EAAE,EAAE;AAHK,aAAX,CADoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAbN,aAAa;AAAA;AAAA;AAAA,GAAnB;;AAOA,qBAAK,6DAAL;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAoE,kBAAMO,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAC/CP,aAAa,EADkC;;AAAA;AAC5DQ,YAAAA,IAD4D;AAE5DC,YAAAA,OAF4D,GAElD,8BAAeD,IAAf,EAAqB,YAArB,CAFkD;;AAAA,iBAG9DC,OAH8D;AAAA;AAAA;AAAA;;AAIhEF,YAAAA,CAAC,CAACG,IAAF,CAAO,8BAAP;AAJgE,2BAK1CC,sBAL0C;AAAA;AAAA,mBAKvBX,aAAa,EALU;;AAAA;AAAA;AAAA;AAAA,mDAKN,YALM;;AAAA;AAK1DY,YAAAA,OAL0D;;AAMhE,gBAAIA,OAAJ,EAAa;AACXL,cAAAA,CAAC,CAACG,IAAF,CAAO,8BAAP;AACD;;AAR+D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAApE;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import test from 'ava'\nimport createLink from '../../connection'\nimport { createDatabase, dropDatabase } from '../database'\n\nconst getConnection = async () =>\n  createLink({\n    host: process.env.ENV === 'mock' ? '172.18.0.2' : 'localhost',\n    port: '28015',\n    db: 'db_example',\n  })\n\ntest('[transactions]: should create and drops a database properly', async t => {\n  const conn = await getConnection()\n  const created = createDatabase(conn, 'db_example')\n  if (created) {\n    t.pass('database succesfully created')\n    const dropped = await dropDatabase(await getConnection(), 'db_example')\n    if (dropped) {\n      t.pass('database succesfully dropped')\n    }\n  }\n})\n"],"file":"database.spec.js"}