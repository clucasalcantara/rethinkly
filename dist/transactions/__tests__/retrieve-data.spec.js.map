{"version":3,"sources":["../../../src/transactions/__tests__/retrieve-data.spec.js"],"names":["getConnection","host","process","env","ENV","port","db","t","conn","dbCreated","tableCreated","teste","result","generated_keys","data","length","pass"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA,IAAMA,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAG;AAAA;AAAA;AAAA;AAAA;AAAA,6CACpB,4BAAW;AACTC,cAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,GAAZ,KAAoB,MAApB,GAA6B,YAA7B,GAA4C,WADzC;AAETC,cAAAA,IAAI,EAAE,OAFG;AAGTC,cAAAA,EAAE,EAAE;AAHK,aAAX,CADoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAbN,aAAa;AAAA;AAAA;AAAA,GAAnB;;AAOA,qBAAK,kDAAL;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAyD,kBAAMO,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACpCP,aAAa,EADuB;;AAAA;AACjDQ,YAAAA,IADiD;AAAA;AAAA,mBAE/B,8BAAeA,IAAf,EAAqB,kBAArB,CAF+B;;AAAA;AAEjDC,YAAAA,SAFiD;;AAAA,iBAGnDA,SAHmD;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAI1B,wBAAYD,IAAZ,EAAkB,kBAAlB,CAJ0B;;AAAA;AAI/CE,YAAAA,YAJ+C;;AAAA,iBAKjDA,YALiD;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAM9B,4BAAWF,IAAX,EAAiB,kBAAjB,EAAqC,CAAC;AAAEG,cAAAA,KAAK,EAAE;AAAT,aAAD,EAAoB;AAAEA,cAAAA,KAAK,EAAE;AAAT,aAApB,CAArC,CAN8B;;AAAA;AAM7CC,YAAAA,MAN6C;;AAAA,kBAO/CA,MAAM,IAAIA,MAAM,CAACC,cAP8B;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAQ9B,8BAAaL,IAAb,EAAmB,kBAAnB,CAR8B;;AAAA;AAQ3CM,YAAAA,IAR2C;AAUjD,gBAAIA,IAAI,CAACC,MAAL,KAAgB,CAApB,EAAuBR,CAAC,CAACS,IAAF,CAAO,4BAAP;;AAV0B;AAAA;AAAA,mBAejD,4BAAaR,IAAb,EAAmB,kBAAnB,CAfiD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAzD;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import test from 'ava'\nimport createLink from '../../connection'\nimport { createDatabase, dropDatabase } from '../database'\nimport { createTable } from '../table'\nimport insertData from '../insert-data'\nimport retrieveData from '../retrieve-data'\n\nconst getConnection = async () =>\n  createLink({\n    host: process.env.ENV === 'mock' ? '172.18.0.2' : 'localhost',\n    port: '28015',\n    db: 'retrieve_example',\n  })\n\ntest('[transactions]: should retrieve a value properly', async t => {\n  const conn = await getConnection()\n  const dbCreated = await createDatabase(conn, 'retrieve_example')\n  if (dbCreated) {\n    const tableCreated = await createTable(conn, 'retrieve_example')\n    if (tableCreated) {\n      const result = await insertData(conn, 'retrieve_example', [{ teste: 'pass' }, { teste: 'fail' }])\n      if (result && result.generated_keys) {\n        const data = await retrieveData(conn, 'retrieve_example')\n\n        if (data.length === 2) t.pass('Retrieve data with success')\n      }\n    }\n  }\n\n  await dropDatabase(conn, 'retrieve_example')\n})\n"],"file":"retrieve-data.spec.js"}