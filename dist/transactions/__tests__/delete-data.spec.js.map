{"version":3,"sources":["../../../src/transactions/__tests__/delete-data.spec.js"],"names":["t","conn","dbCreated","tableCreated","teste","generated_keys","length","errors","pass"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA;AACA,qBAAK,gDAAL;AAAA,2FAAuD,iBAAMA,CAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAClC,8BADkC;;AAAA;AAC/CC,YAAAA,IAD+C;AAAA;AAAA,mBAE7B,8BAAeA,IAAf,EAAqB,kBAArB,CAF6B;;AAAA;AAE/CC,YAAAA,SAF+C;;AAAA,iBAGjDA,SAHiD;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIxB,wBAAYD,IAAZ,EAAkB,kBAAlB,CAJwB;;AAAA;AAI7CE,YAAAA,YAJ6C;;AAAA,iBAK/CA,YAL+C;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAMX,4BAAWF,IAAX,EAAiB,kBAAjB,EAAqC;AAAEG,cAAAA,KAAK,EAAE;AAAT,aAArC,CANW;;AAAA;AAAA;AAAA,sDAMzCC,cANyC;AAMzCA,YAAAA,cANyC,sCAMxB,EANwB;;AAAA,kBAO7CA,cAAc,CAACC,MAAf,GAAwB,CAPqB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAQtB,4BAAWL,IAAX,EAAiB,kBAAjB,EAAqCI,cAAc,CAAC,CAAD,CAAnD,CARsB;;AAAA;AAAA;AAQvCE,YAAAA,MARuC,qBAQvCA,MARuC;;AAS/C,gBAAI,CAACA,MAAL,EAAa;AACXP,cAAAA,CAAC,CAACQ,IAAF,kBAAiBH,cAAc,CAAC,CAAD,CAA/B;AACD;;AAX8C;AAAA;AAAA,mBAgB/C,4BAAaJ,IAAb,EAAmB,kBAAnB,CAhB+C;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvD;;AAAA;AAAA;AAAA;AAAA;AAkBA","sourcesContent":["import test from 'ava'\nimport { createDatabase, dropDatabase, getConnection } from '../database'\nimport { createTable } from '../table'\nimport insertData from '../insert-data'\nimport deleteData from '../delete-data'\n\n/* eslint-disable camelcase */\ntest('[transactions]: should delete a value properly', async t => {\n  const conn = await getConnection()\n  const dbCreated = await createDatabase(conn, 'deletion_example')\n  if (dbCreated) {\n    const tableCreated = await createTable(conn, 'deletion_example')\n    if (tableCreated) {\n      const { generated_keys = [] } = await insertData(conn, 'deletion_example', { teste: 'pass' })\n      if (generated_keys.length > 0) {\n        const { errors } = await deleteData(conn, 'deletion_example', generated_keys[0])\n        if (!errors) {\n          t.pass(`Record ${generated_keys[0]} deleted successfully`)\n        }\n      }\n    }\n  }\n\n  await dropDatabase(conn, 'deletion_example')\n})\n/* eslint-enable camelcase */\n"],"file":"delete-data.spec.js"}