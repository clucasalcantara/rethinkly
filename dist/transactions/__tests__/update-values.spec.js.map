{"version":3,"sources":["../../../src/transactions/__tests__/update-values.spec.js"],"names":["getConnection","host","process","env","ENV","port","db","t","conn","dbCreated","tableCreated","teste","result","generated_keys","tableName","keyValue","updatedValue","replaced","pass"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AAEA,IAAMA,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAG;AAAA;AAAA;AAAA;AAAA;AAAA,6CACpB,4BAAW;AACTC,cAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,GAAZ,KAAoB,MAApB,GAA6B,YAA7B,GAA4C,WADzC;AAETC,cAAAA,IAAI,EAAE,OAFG;AAGTC,cAAAA,EAAE,EAAE;AAHK,aAAX,CADoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAbN,aAAa;AAAA;AAAA;AAAA,GAAnB;;AAOA,qBAAK,gDAAL;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAuD,kBAAMO,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAClCP,aAAa,EADqB;;AAAA;AAC/CQ,YAAAA,IAD+C;AAAA;AAAA,mBAE7B,8BAAeA,IAAf,EAAqB,gBAArB,CAF6B;;AAAA;AAE/CC,YAAAA,SAF+C;;AAAA,iBAGjDA,SAHiD;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIxB,wBAAYD,IAAZ,EAAkB,gBAAlB,CAJwB;;AAAA;AAI7CE,YAAAA,YAJ6C;;AAAA,iBAK/CA,YAL+C;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAM5B,4BAAWF,IAAX,EAAiB,gBAAjB,EAAmC;AAAEG,cAAAA,KAAK,EAAE;AAAT,aAAnC,CAN4B;;AAAA;AAM3CC,YAAAA,MAN2C;;AAAA,iBAO7CA,MAAM,CAACC,cAPsC;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAQpB,8BAAaL,IAAb,EAAmB;AAC5CM,cAAAA,SAAS,EAAE,gBADiC;AAE5CC,cAAAA,QAAQ,EAAE;AAAEJ,gBAAAA,KAAK,EAAE;AAAT;AAFkC,aAAnB,CARoB;;AAAA;AAQzCK,YAAAA,YARyC;;AAa/C,gBAAIA,YAAY,CAACC,QAAjB,EAA2B;AACzBV,cAAAA,CAAC,CAACW,IAAF,CAAO,qBAAP;AACD;;AAf8C;AAAA;AAAA,mBAoB/C,4BAAaV,IAAb,EAAmB,gBAAnB,CApB+C;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvD;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import test from 'ava'\nimport createLink from '../../connection'\nimport insertData from '../insert-data'\nimport updateValues from '../update-values'\n\nimport { createDatabase, dropDatabase } from '../database'\nimport { createTable } from '../table'\n\nconst getConnection = async () =>\n  createLink({\n    host: process.env.ENV === 'mock' ? '172.18.0.2' : 'localhost',\n    port: '28015',\n    db: 'update_example',\n  })\n\ntest('[transactions]: should update a value properly', async t => {\n  const conn = await getConnection()\n  const dbCreated = await createDatabase(conn, 'update_example')\n  if (dbCreated) {\n    const tableCreated = await createTable(conn, 'update_example')\n    if (tableCreated) {\n      const result = await insertData(conn, 'update_example', { teste: 'fail' })\n      if (result.generated_keys) {\n        const updatedValue = await updateValues(conn, {\n          tableName: 'update_example',\n          keyValue: { teste: 'pass' },\n        })\n\n        if (updatedValue.replaced) {\n          t.pass('A value was updated')\n        }\n      }\n    }\n  }\n\n  await dropDatabase(conn, 'update_example')\n})\n"],"file":"update-values.spec.js"}