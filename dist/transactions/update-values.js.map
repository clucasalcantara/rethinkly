{"version":3,"sources":["../../src/transactions/update-values.js"],"names":["connection","tableName","record","keyValue","logger","info","rethinkdb","table","get","update","run","result","JSON","stringify"],"mappings":";;;;;;;;;;;;;AAIA;;AACA;;AALA;;;;;AAOA;;;;;;;;;;;;+BAOe,iBAAOA,UAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAqBC,YAAAA,SAArB,QAAqBA,SAArB,EAAgCC,MAAhC,QAAgCA,MAAhC,EAAwCC,QAAxC,QAAwCA,QAAxC;;AAAA,iBACTD,MADS;AAAA;AAAA;AAAA;;AAEXE,oCAAOC,IAAP,oBAAwBJ,SAAxB,uBAA8CE,QAA9C,wBAAoED,MAApE;;AAFW;AAAA,mBAGUI,sBAClBC,KADkB,CACZN,SADY,EAElBO,GAFkB,CAEdN,MAFc,EAGlBO,MAHkB,CAGXN,QAHW,EAIlBO,GAJkB,CAIdV,UAJc,CAHV;;AAAA;AAGLW,YAAAA,OAHK;AAAA,6CASJA,OATI;;AAAA;AAYbP,oCAAOC,IAAP,oBAAwBJ,SAAxB,uBAA8CW,IAAI,CAACC,SAAL,CAAeV,QAAf,CAA9C;;AAZa;AAAA,mBAaQG,sBAClBC,KADkB,CACZN,SADY,EAElBQ,MAFkB,CAEXN,QAFW,EAGlBO,GAHkB,CAGdV,UAHc,CAbR;;AAAA;AAaPW,YAAAA,MAbO;AAAA,6CAkBNA,MAlBM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["/**\n * Update values from a table\n * @memberof rethinkly\n */\nimport logger from 'hoopa-logger'\nimport rethinkdb from 'rethinkdb'\n\n/**\n * Update values\n * Update a key value scheme from\n * on table\n * @param {Object} connection\n * @param {Object} updateData - The update config object\n */\nexport default async (connection, { tableName, record, keyValue }) => {\n  if (record) {\n    logger.info(`Updating ${tableName}, setting ${keyValue} on record ${record}`)\n    const result = await rethinkdb\n      .table(tableName)\n      .get(record)\n      .update(keyValue)\n      .run(connection)\n\n    return result\n  }\n\n  logger.info(`Updating ${tableName}, setting ${JSON.stringify(keyValue)}`)\n  const result = await rethinkdb\n    .table(tableName)\n    .update(keyValue)\n    .run(connection)\n\n  return result\n}\n"],"file":"update-values.js"}